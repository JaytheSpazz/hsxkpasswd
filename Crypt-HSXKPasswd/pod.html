<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Crypt::HSXKPasswd</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:vxd@glow.apple.com" />
</head>

<body style="background-color: white">



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#VERSION">VERSION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#PHILOSOPHY">PHILOSOPHY</a></li>
      <li><a href="#THE-MATHS">THE MATHS</a>
        <ul>
          <li><a href="#Maths-Primer">Maths Primer</a></li>
          <li><a href="#The-Entropy-of-HSXKPasswd-Passwords">The Entropy of HSXKPasswd Passwords</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#SUBROUTINES-METHODS">SUBROUTINES/METHODS</a>
    <ul>
      <li><a href="#WORD-SOURCES-DICTIONARIES">WORD SOURCES (DICTIONARIES)</a>
        <ul>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::DE">Crypt::HSXKPasswd::Dictionary::DE</a></li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::EN_Default">Crypt::HSXKPasswd::Dictionary::EN_Default</a></li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::ES">Crypt::HSXKPasswd::Dictionary::ES</a></li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::FR">Crypt::HSXKPasswd::Dictionary::FR</a></li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::IT">Crypt::HSXKPasswd::Dictionary::IT</a></li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::NL">Crypt::HSXKPasswd::Dictionary::NL</a></li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::PT">Crypt::HSXKPasswd::Dictionary::PT</a></li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::System">Crypt::HSXKPasswd::Dictionary::System</a>
            <ul>
              <li><a href="#Usage">Usage</a></li>
            </ul>
          </li>
          <li><a href="#Crypt::HSXKPasswd::Dictionary::Basic">Crypt::HSXKPasswd::Dictionary::Basic</a>
            <ul>
              <li><a href="#Usage1">Usage</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#CONFIGURATION-HASHREFS">CONFIGURATION HASHREFS</a></li>
      <li><a href="#PRESETS">PRESETS</a></li>
      <li><a href="#ENTROPY-CHECKING">ENTROPY CHECKING</a>
        <ul>
          <li><a href="#CAVEATS">CAVEATS</a></li>
        </ul>
      </li>
      <li><a href="#RANDOM-NUMBER-SOURCES">RANDOM NUMBER SOURCES</a>
        <ul>
          <li><a href="#Crypt::HSXKPasswd::RNG::Math_Random_Secure">Crypt::HSXKPasswd::RNG::Math_Random_Secure</a></li>
          <li><a href="#Crypt::HSXKPasswd::RNG::Data_Entropy">Crypt::HSXKPasswd::RNG::Data_Entropy</a></li>
          <li><a href="#Crypt::HSXKPasswd::RNG::DevUrandom">Crypt::HSXKPasswd::RNG::DevUrandom</a></li>
          <li><a href="#Crypt::HSXKPasswd::RNG::Basic">Crypt::HSXKPasswd::RNG::Basic</a></li>
          <li><a href="#Crypt::HSXKPasswd::RNG::RandomDotOrg">Crypt::HSXKPasswd::RNG::RandomDotOrg</a></li>
        </ul>
      </li>
      <li><a href="#FUNCTIONAL-INTERFACE">FUNCTIONAL INTERFACE</a>
        <ul>
          <li><a href="#hsxkpasswd">hsxkpasswd()</a></li>
        </ul>
      </li>
      <li><a href="#CONSTRUCTOR">CONSTRUCTOR</a>
        <ul>
          <li><a href="#CUSTOM-WORD-SOURCES-IN-CONSTRUCTOR">CUSTOM WORD SOURCES IN CONSTRUCTOR</a></li>
          <li><a href="#CUSTOM-CONFIGS">CUSTOM CONFIGS</a></li>
          <li><a href="#CUSTOM-RANDOM-NUMBER-GENERATORS">CUSTOM RANDOM NUMBER GENERATORS</a></li>
        </ul>
      </li>
      <li><a href="#CLASS-METHODS">CLASS METHODS</a>
        <ul>
          <li><a href="#clone_config">clone_config()</a></li>
          <li><a href="#config_stats">config_stats()</a></li>
          <li><a href="#config_to_json">config_to_json()</a></li>
          <li><a href="#config_to_string">config_to_string()</a></li>
          <li><a href="#default_config">default_config()</a></li>
          <li><a href="#defined_presets">defined_presets()</a></li>
          <li><a href="#is_valid_config">is_valid_config()</a></li>
          <li><a href="#preset_config">preset_config()</a></li>
          <li><a href="#presets_json">presets_json()</a></li>
          <li><a href="#preset_description">preset_description()</a></li>
          <li><a href="#presets_to_string">presets_to_string()</a></li>
        </ul>
      </li>
      <li><a href="#METHODS">METHODS</a>
        <ul>
          <li><a href="#config">config()</a></li>
          <li><a href="#config_json">config_json()</a></li>
          <li><a href="#config_string">config_string()</a></li>
          <li><a href="#dictionary">dictionary()</a></li>
          <li><a href="#password">password()</a></li>
          <li><a href="#passwords">passwords()</a></li>
          <li><a href="#passwords_json">passwords_json()</a></li>
          <li><a href="#rng">rng()</a></li>
          <li><a href="#stats">stats()</a></li>
          <li><a href="#status">status()</a></li>
          <li><a href="#update_config">update_config()</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#DIAGNOSTICS">DIAGNOSTICS</a></li>
  <li><a href="#CONFIGURATION-AND-ENVIRONMENT">CONFIGURATION AND ENVIRONMENT</a></li>
  <li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
  <li><a href="#INCOMPATIBILITIES">INCOMPATIBILITIES</a></li>
  <li><a href="#BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</a></li>
  <li><a href="#LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p><code>Crypt::HSXKPasswd</code> - A secure memorable password generator inspired by Steve Gibson&#39;s Passord Haystacks (<a href="https://www.grc.com/haystack.htm">https://www.grc.com/haystack.htm</a>), and the famous XKCD password cartoon (<a href="https://xkcd.com/936/">https://xkcd.com/936/</a>).</p>

<h1 id="VERSION">VERSION</h1>

<p>This documentation refers to <code>Crypt::HSXKPasswd</code> version 3.1.1.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>    use Crypt::HSXKPasswd;

    #
    # Functional Interface - a shortcut for generating single passwords
    #
    
    # generate a single password using the default word source, configuration,
    # and random number generator
    my $password = hsxkpasswd();
    
    # the above call is simply a shortcut for the following
    my $password = Crypt::HSXKPasswd-&gt;new()-&gt;password();
    
    # this function passes all arguments on to Crypt::HSXKPasswd-&gt;new()
    # so all the same customisations can be specified, e.g. specifying a
    # config preset:
    my $password = hsxkpasswd(preset =&gt; &#39;XKCD&#39;);
    
    #
    # Object Oriented Interface - recommended for generating multiple passwords
    #
    
    # create a new instance with the default dictionary, config, and random
    # number generator
    my $hsxkpasswd_instance = Crypt::HSXKPasswd-&gt;new();
    
    # generate a single password
    my $password = $hsxkpasswd_instance-&gt;password();
    
    # generate multiple passwords
    my @passwords = $hsxkpasswd_instance-&gt;passwords(10);</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>A secure memorable password generator inspired by the wonderful XKCD webcomic at <a href="http://www.xkcd.com/">http://www.xkcd.com/</a> and Steve Gibson&#39;s Password Haystacks page at <a href="https://www.grc.com/haystack.htm">https://www.grc.com/haystack.htm</a>. This is the Perl library that powers <a href="https://www.xkpasswd.net">https://www.xkpasswd.net</a>.</p>

<h2 id="PHILOSOPHY">PHILOSOPHY</h2>

<p>More and more of the things we do on our computer require passwords, and at the same time it seems we hear about organisations or sites losing user database on every day that ends in a <i>y</i>. If we re-use our passwords we expose ourself to an ever greater risk, but we need more passwords than we can possibly remember or invent. Coming up with one good password is easy, but coming up with one good password a week is a lot harder, let alone one a day!</p>

<p>Obviously we need some technological help. We need our computers to help us generate robust password and store them securely. There are many great password managers out there to help us securely store and sync our passwords, including commercial offerings and open-source projects. Many of these managers also offer to generate random passwords for us, usually in the form of a random string of meaningless letters numbers and symbols. These kinds of nonsense passwords are certainly secure, but they are often impractical.</p>

<p>Regardless of how good your chosen password manager is, there will always be times when you need to type in your passwords, and that&#39;s when random gibberish passwords become a real pain point. As annoying as it is to have to glance over and back at a small cellphone screen to manually type a gibberish password into a computer, that&#39;s nothing compared to the annoyance of trying to communicate such a password to a family member, friend, colleague or customer over the phone.</p>

<p>Surely it would be better to have passwords that are still truly random in the way humans can&#39;t be, but are also human-friendly in the way random gibberish never will be? This is the problem this module aims to solve.</p>

<p>Rather than randomly choosing many letters, digits, and symbols from a fairly small alphabet of possible characters, this library chooses a small number of words from a large <i>alphabet</i> of possible words as the basis for passwords. Words are easy to remember, easy to read from a screen, easy to type, and easy to communicate over the telephone.</p>

<p>This module uses words to make up the bulk of the passwords it generates, but it also adds carefully placed random symbols and digits to add more security without the passwords difficult to remember, read, type, or speak.</p>

<p>In shot, this module is for people who prefer passwords that look like this:</p>

<pre><code>    !15.play.MAJOR.fresh.FLAT.23!</code></pre>

<p>to passwords that look like this:</p>

<pre><code>    eB8.GJXa@TuM</code></pre>

<h2 id="THE-MATHS">THE MATHS</h2>

<p>Before examining the password strength of passwords generated with this module we need to lay out the relatively simple maths underlying it all.</p>

<h3 id="Maths-Primer">Maths Primer</h3>

<p>A coin could be used as a very simple password generator. Each character in the password would be the result of a single coin toss. If the coin lands heads up, we add a <code>H</code> to our password, if it lands tails up, we add a <code>T</code>.</p>

<p>If you made a one-letter password in this way there would only be two possibilities, <code>H</code>, or <code>T</code>, or two permutations. If you made a two-letter password in this way there would be four possible combinations, or permutations, <code>HH</code>, <code>HT</code>, <code>TH</code>, and <code>TT</code>. If you made a three-character password in this way there would be 16 permutations, a five character one would have 32 permutations, and so forth.</p>

<p>So, for a coin toss, which has two possible values for each character, the formula for the number of permutations <code>P</code> for a given length of password <code>L</code> is:</p>

<pre><code>    P = 2^L</code></pre>

<p>Or, two to the power of the length of the password.</p>

<p>If we now swapped our coin for a dice, we would go from two possible values per letter, to six possible values per letter. For one dice roll there would be six permutations, for two there would be 36, for three there would be 108 and so on.</p>

<p>This means that for a dice, the number of permutations can be calculated with the formula:</p>

<pre><code>    P = 6^L</code></pre>

<p>When talking about passwords, the set of possible symbols used for each character in the password is referred to as the password&#39;s <i>alphabet</i>. So, for the coin toss the alphabet was just <code>H</code> and <code>T</code>, and for the dice it was <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, and <code>6</code>. The actual characters used in the alphabet make no difference to the strength of the password, all that matters is the size of the alphabet, which we&#39;ll call <code>A</code>.</p>

<p>As you can probably infer from the two examples above, the formula for the number of possible permutations <code>P</code> for a password of length <code>L</code> created from an alphabet of size <code>A</code> is:</p>

<pre><code>    P = A^L</code></pre>

<p>In the real world our passwords are generally made up of a mix of letters, digits, and symbols. If we use mixed case that gives us 52 letters alone, then add in the ten digits from <code>0</code> to <code>9</code> and we&#39;re already up to 62 possible characters before we even start on the array of symbols and punctuation characters on our keyboards. It&#39;s generally accepted that if you include symbols and punctuation, there are 95 characters available for use in randomly generated passwords. Hence, in the real-world, the value for <code>A</code> is assumed to be 95. When you start raising a number as big as 95 to even low powers the number of permutations quickly rises.</p>

<p>A two character password with alphabet of 95 has 9025 permutations, increasing the length to three characters brings that up to 857,375, and so on. These numbers very quickly become too big to handle. For just an 8 character password we are talking about 6,634,204,312,890,625 permutations, which is a number so big most people couldn&#39;t say it (what do you call something a thousand times bigger than a trillion?).</p>

<p>Because the numbers get so astronomically big so quickly, computer scientists use bits of entropy to measure password strength rather than the number of permutations. The formula to turn permutations into bits of entropy <code>E</code> is very simple:</p>

<pre><code>    E = Log(2)P</code></pre>

<p>In other words, the entropy is the log to base two of the permutations. For our eight character example that equates to about 52 bits.</p>

<p>There are two approaches to increasing the number of permutations, and hence the entropy, you can choose more characters, or, you can make the alphabet you are choosing from bigger.</p>

<h3 id="The-Entropy-of-HSXKPasswd-Passwords">The Entropy of HSXKPasswd Passwords</h3>

<p>Exactly how much entropy does a password need? That&#39;s the subject of much debate, and the answer ultimately depends on the value of the assets being protected by the password.</p>

<p>Two common recommendations you hear are 8 characters containing a mix of upper and lower case letters, digits, and symbols, or 12 characters with the same composition. These evaluation to approximately 52 bits of entropy and 78 bits of entropy respectively.</p>

<p>When evaluating the entropy of passwords generated by this module, it has to be done from two points of view for the answer to be meaningful. Firstly, a best-case scenario - the attacker has absolutely no knowledge of how the password was generated, and hence must mount a brute-force attack. Then, secondly from the point of view of an attacker with full knowledge of how the password was generated. Not just the knowledge that this module was used, but a copy of the dictionary file used, and, a copy of the configuration settings used.</p>

<p>For the purpose of this documentation, the entropy in the first scenario, the brute force attack, will be referred to as the blind entropy, and the entropy in the second scenario the seen entropy.</p>

<p>The blind entropy is solely determined by the configuration settings, the seen entropy depends on both the settings and the dictionary file used.</p>

<p>Calculating the bind entropy <code>Eb</code> is quite straightforward, we just need to know the size of the alphabet resulting from the configuration <code>A</code>, and the minimum length of passwords generated with the configuration <code>L</code>, and plug those values into this formula:</p>

<pre><code>    Eb = Log(2)(A^L)</code></pre>

<p>Calculating <code>A</code> simply involves determining whether or not the configuration results in a mix of letter cases (26 or 52 characters), the inclusion of at least one symbol (if any one is present, assume the industry standard of a 33 character search space), and the inclusion of at least one digit (10 character). This will result in a value between 26 and 95.</p>

<p>Calculating <code>L</code> is also straightforward. The one minor complication is that some configurations result in a variable length password. In this case, assume the shortest possible length the configuration could produce.</p>

<p>The example password from the <a href="#PHILOSOPHY">&quot;PHILOSOPHY&quot;</a> section (<code>!15.play.MAJOR.fresh.FLAT.23!</code>) was generated using the preset <code>WEB32</code>. This preset uses four words of between four and five letters long, with the case of each word randomly set to all lower or all upper as the basis for the password, it then chooses two pairs of random digits as extra words to go front and back, before separating each word with a copy of a randomly chosen symbol, and padding the front and back of the password with a copy of a different randomly chosen symbol. This results in passwords that contain a mix of cases, digits, and symbols, and are between 27 and 31 characters long. If we add these values into the formula we find that the blind entropy for passwords created with this preset is:</p>

<pre><code>    Eb = Log(2)(95^27) = 163 bits</code></pre>

<p>This is spectacularly secure! And, this is the most likely kind of attack for a password to face. However, to have confidence in the password we must also now calculate the entropy when the attacker knows everything about how the password was generated.</p>

<p>We will calculate the entropy resulting from the same <code>WEB32</code> config being used to generate a password using the sample library file that ships with the module.</p>

<p>The number of permutations the attacker needs to check is purely the product of possibly results for each random choice made during the assembly of the password.</p>

<p>Lets start with the words that will form the core of the password. The configuration chooses four words of between four and five letters long from the dictionary, and then randomises their case, effectively making it a choice from twice as many words (each word in each case).</p>

<p>The sample dictionary file contains 698 words of the configured length, which doubles to 1396. Choosing four words from that very large alphabet gives a starting point of <code>1396^4</code>, or 3,797,883,801,856 permutations.</p>

<p>Next we need to calculate the permutations for the separator character. The configuration specifies just nine permitted characters, and we choose just one, so that equates to 9 permutations.</p>

<p>Similarly, the padding character on the end is chosen from 13 permitted symbols giving 13 more permutations.</p>

<p>Finally, there are four randomly chosen digits, giving <code>10^4</code>, or 10,000 permutations.</p>

<p>The total number of permutations is the product of all these permutations:</p>

<pre><code>    Pseen = 3,797,883,801,856 * 9 * 13 * 10,000 = 2.77x10^17
    </code></pre>

<p>Finally, we convert this to entropy by taking the base 2 log:</p>

<pre><code>    Eseen = Log(2)2.77x10^17 = ~57bits
    </code></pre>

<p>What this means is that most probably, passwords generated with this preset using the sample dictionary file are spectacularly more secure than even 12 randomly chosen characters, and, that in the very unlikely event that an attackers knows absolutely everything about how the password was generated, it is still significantly more secure than 8 randomly chosen characters.</p>

<p>Because the exact strength of the passwords produced by this module depend on the configuration and dictionary file used, the constructor does the above math when creating an HSXKPasswd object, and throws a warning if either the blind entropy falls below 78bits, or the seen entropy falls below 52 bits.</p>

<h1 id="SUBROUTINES-METHODS">SUBROUTINES/METHODS</h1>

<h2 id="WORD-SOURCES-DICTIONARIES">WORD SOURCES (DICTIONARIES)</h2>

<p>The abstract class <code>Crypt::HSXKPasswd::Dictionary</code> acts as a base class for sources of words for use by this module. Word sources should extend this base class and implement the function <code>word_list()</code>, which should return an array of words.</p>

<p>In order to produce secure passwords it&#39;s important to use a word source that contains a large selection of words with a good mix of different lengths of words.</p>

<p>The module ships with a number of pre-defined word sources:</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::DE"><code>Crypt::HSXKPasswd::Dictionary::DE</code></h3>

<p>A German word list based on the GPL-licensed German dictionary for WinEdit by Juergen Vierheilig.</p>

<p><b>Note:</b> This module is licensed under the GPL, not the BSD license used for the majority of this project.</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::EN_Default"><code>Crypt::HSXKPasswd::Dictionary::EN_Default</code></h3>

<p>A default word list consisting of English words and place names.</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::ES"><code>Crypt::HSXKPasswd::Dictionary::ES</code></h3>

<p>A Spanish word list based on the BSD-licensed Spanish dictionary for WinEdit by Juan L. Varona from the Universidad de La Rioja.</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::FR"><code>Crypt::HSXKPasswd::Dictionary::FR</code></h3>

<p>A French word list based on the GPL-licensed French dictionary for WinEdit.</p>

<p><b>Note:</b> This module is licensed under GPL V2, not the BSD license used for the majority of this project.</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::IT"><code>Crypt::HSXKPasswd::Dictionary::IT</code></h3>

<p>An Italian word list based on the free-for-non-commerical-use Italian dictionary for WinEdit by Karl Koeller.</p>

<p><b>Note:</b> This module is licensed under GPL V2, not the BSD license used for the majority of this project.</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::NL"><code>Crypt::HSXKPasswd::Dictionary::NL</code></h3>

<p>A Dutch/Flemish word list based on the GPL-licensed Dutch dictionary for WinEdit.</p>

<p><b>Note:</b> This module is licensed under GPL V2, not the BSD license used for the majority of this project.</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::PT"><code>Crypt::HSXKPasswd::Dictionary::PT</code></h3>

<p>A Portuguese word list based on the GPL-licensed Portuguese dictionary for WinEdit compiled by Bernhard Enders (building on work by Raimundo Santos Moura &amp; Ricardo Ueda Karpischek).</p>

<p><b>Note:</b> This module is licensed under GPL V2.1, not the BSD license used for the majority of this project.</p>

<h3 id="Crypt::HSXKPasswd::Dictionary::System"><code>Crypt::HSXKPasswd::Dictionary::System</code></h3>

<p>This class tries to find and use a Unix words file on the system.</p>

<p>The constructor croaks if no system words file can be found.</p>

<h4 id="Usage">Usage</h4>

<pre><code>    my $word_source = Crypt::HSXKPasswd::Dictionary::System-&gt;new();</code></pre>

<h3 id="Crypt::HSXKPasswd::Dictionary::Basic"><code>Crypt::HSXKPasswd::Dictionary::Basic</code></h3>

<p>This class can be initialised from a words file, or from an array ref containing words.</p>

<h4 id="Usage1">Usage</h4>

<pre><code>    my $word_source = Crypt::HSXKPasswd::Dictionary::Basic-&gt;new(&#39;file_path&#39;);
    my $word_source = Crypt::HSXKPasswd::Dictionary::Basic-&gt;new(&#39;file_path&#39;, &#39;Latin1&#39;);
    my $word_source = Crypt::HSXKPasswd::Dictionary::Basic-&gt;new($array_ref);</code></pre>

<p>The rules for the formatting of dictionary files are simple. Dictionary files must contain one word per line. Words shorter than four letters will be ignored, as will all lines starting with the # symbol. Files are assumed to be UTF-8 encoded, but an optional second argument can be passed specifying a different file encoding.</p>

<p>This format is the same as that of the standard Unix Words file, usually found at <code>/usr/share/dict/words</code> on Unix and Linux operating systems (including OS X).</p>

<h2 id="CONFIGURATION-HASHREFS">CONFIGURATION HASHREFS</h2>

<p>A number of subroutines require a configuration hashref as an argument. The following are the valid keys for that hashref, what they mean, and what values are valid for each.</p>

<ul>

<li><p><code>allow_accents</code> - a truthy value to signify that any accented characters in the dictionary should be preserved when filtering to the sub-set of valid words. If not specified, or if a falsy value is passed, accented letters will have their accents stripped off, e.g. <code>&eacute;</code> becomes <code>e</code>.</p>

</li>
<li><p><code>case_transform</code> - the alterations that should be made to the case of the letters in the randomly chosen words that make up the bulk of the randomly generated passwords. Must be a scalar, and the only valid values for this key are:</p>

<dl>

<dt id="pod">-</dt>
<dd>

<p><code>ALTERNATE</code> - each alternate word will be converted to all upper case and all lower case.</p>

</dd>
<dt id="pod1">-</dt>
<dd>

<p><code>CAPITALISE</code> - the first letter in every word will be converted to upper case, all other letters will be converted to lower case.</p>

</dd>
<dt id="pod2">-</dt>
<dd>

<p><code>INVERT</code> - the first letter in every word will be converted to lower case, all other letters will be converted to upper case.</p>

</dd>
<dt id="pod3">-</dt>
<dd>

<p><code>LOWER</code> - all letters in all the words will be converted to lower case. <b>Use of this option is strongly discouraged for security reasons.</b></p>

</dd>
<dt id="pod4">-</dt>
<dd>

<p><code>NONE</code> - the capitalisation used in the randomly generated password will be the same as it is in the dictionary file.</p>

</dd>
<dt id="pod5">-</dt>
<dd>

<p><code>RANDOM</code> - each word will be randomly converted to all upper case or all lower case.</p>

</dd>
<dt id="pod6">-</dt>
<dd>

<p><code>UPPER</code> - all letters in all the words will be converted to upper case. <b>Use of this option is strongly discouraged for security reasons.</b></p>

</dd>
</dl>

<p>The default value returned by <code>default_config()</code> is <code>CAPITALISE</code>.</p>

</li>
<li><p><code>character_substitutions</code> - a hashref containing zero or more character substitutions to be applied to the words that make up the bulk of the generated passwords. The keys in the hashref are the characters to be replaced, and must be single alpha numeric characters, while the values in the hashrefs are the replacements, and can be longer.</p>

</li>
<li><p><code>num_words</code> - the number of randomly chosen words use as the basis for the generated passwords. The default value is four. For security reasons, at least two words must be used.</p>

</li>
<li><p><code>pad_to_length</code> - the total desired length of the password when using adaptive padding (<code>padding_type</code> set to <code>ADAPTIVE</code>). Must be a scalar with an integer values greater than or equal to 12 (for security reasons).</p>

</li>
<li><p><code>padding_alphabet</code> - this key is optional. It can be used to override the contents of <code>symbol_alphabet</code> when <code>padding_character</code> is set to <code>RANDOM</code>. If present this key must contain an arrayref containing at least two single characters as scalars.</p>

</li>
<li><p><code>padding_character</code> - the character to use when padding the front and/or back of the randomly generated password. Must be a scalar containing either a single character or one of the special values <code>RANDOM</code> (indicating that a character should be chosen at random from the <code>symbol_alphabet</code>), or <code>SEPARATOR</code> (use the same character used to separate the words). This key is only needed if <code>padding_type</code> is set to <code>FIXED</code> or <code>ADAPTIVE</code>. The default value returned by <code>default_config</code> is <code>RANDOM</code>.</p>

</li>
<li><p><code>padding_characters_before</code> &amp; <code>padding_characters_after</code> - the number of symbols to pad the front and end of the randomly generated password with. Must be a scalar with an integer value greater than or equal to zero. These keys are only needed if <code>padding_type</code> is set to <code>FIXED</code>. The default value returned by <code>default_config()</code> for both these keys is 2.</p>

</li>
<li><p><code>padding_digits_before</code> &amp; <code>padding_digits_after</code> - the number of random digits to include before and after the randomly chosen words making up the bulk of the randomly generated password. Must be scalars containing integer values greater than or equal to zero. The default value returned by <code>default_config()</code> for both these keys is 2.</p>

</li>
<li><p><code>padding_type</code> - the type of symbol padding to be added at the start and/or end of the randomly generated password. Must be a scalar with one of the following values:</p>

<dl>

<dt id="pod7">-</dt>
<dd>

<p><code>NONE</code> - do not pad the generated password with any symbol characters.</p>

</dd>
<dt id="pod8">-</dt>
<dd>

<p><code>FIXED</code> - a specified number of symbols will be added to the front and/or back of the randomly generated password. If this option is chosen, you must also specify the keys <code>padding_character</code>, <code>padding_characters_before</code> &amp; <code>padding_characters_after</code>.</p>

</dd>
<dt id="pod9">-</dt>
<dd>

<p><code>ADAPTIVE</code> - no symbols will be added to the start of the randomly generated password, and the appropriate number of symbols will be added to the end to make the generated password exactly a certain length. The desired length is specified with the key <code>pad_to_length</code>, which is required if this padding type is specified.</p>

</dd>
</dl>

<p>The default value returned by <code>default_config()</code> is <code>FIXED</code>.</p>

</li>
<li><p><code>separator_alphabet</code> - this key is optional. It can be used to override the contents of <code>symbol_alphabet</code> when <code>separator_character</code> is set to <code>RANDOM</code>. If present this key must contain an arrayref containing at least two single characters as scalars.</p>

</li>
<li><p><code>separator_character</code> - the character to use to separate the words in the generated password. Must be a scalar, and acceptable values are a single character, or, the special values <code>NONE</code> (indicating that no separator should be used), or <code>RANDOM</code>, indicating that a character should be chosen at random from the <code>symbol_alphabet</code>. The default value returned by <code>default_config()</code> is <code>RANDOM</code>.</p>

</li>
<li><p><code>symbol_alphabet</code> - an arrayref containing at least two single characters as scalars. This alphabet will be used when selecting random characters to act as the separator between words, or the padding at the start and/or end of generated passwords. Note that this key can be overridden by setting either or both <code>padding_alphabet</code> and <code>separator_alphabet</code>. The default value returned by <code>default_config()</code> is <code>[qw{! @ $ % ^ &amp; * - _ + = : | ~ ?}]</code></p>

</li>
<li><p><code>word_length_min</code> &amp; <code>word_length_max</code> - the minimum and maximum length of the words that will make up the generated password. The two keys must be scalars, and can hold equal values, but <code>word_length_max</code> may not be smaller than <code>word_length_min</code>. For security reasons, both values must be greater than 3. The default values returned by <code>default_config()</code> is are 4 &amp; 8.</p>

</li>
</ul>

<h2 id="PRESETS">PRESETS</h2>

<p>For ease of use, this module comes with a set of pre-defined presets which can be passed by name to the functional interface, and the constructor.</p>

<p>Presets can be used as-is, or, they can be used as a starting point for creating your own config hashref, as demonstrated by the following example:</p>

<pre><code>    my $config = Crypt::HSXKPasswd-&gt;preset_config(&#39;XKCD&#39;);
    $config-&gt;{separator_character} = q{ }; # change the separator to a space
    my $hsxkpasswd = Crypt::HSXKPasswd-&gt;new(config =&gt; $config);
    </code></pre>

<p>If you only wish to alter a small number of config settings, the following two shortcuts might be of interest (both produce the same result as the example above):</p>

<pre><code>    my $config = Crypt::HSXKPasswd-&gt;preset_config(&#39;XKCD&#39;, {separator_character =&gt; q{ }});
    my $hsxkpasswd = Crypt::HSXKPasswd-&gt;new(config =&gt; $config);
    </code></pre>

<p>or</p>

<pre><code>    my $hsxkpasswd = Crypt::HSXKPasswd-&gt;new(
        preset =&gt; &#39;XKCD&#39;,
        preset_overrides =&gt; {separator_character =&gt; q{ }}
    );</code></pre>

<p>For more see the definitions for the class functions <code>defined_presets()</code>, <code>presets_to_string()</code>, <code>preset_description()</code>, and <code>preset_config()</code>.</p>

<p>The following presets are defined:</p>

<ul>

<li><p><code>APPLEID</code> - a preset respecting the many prerequisites Apple places on Apple ID passwords. Apple&#39;s official password policy is located here: <a href="http://support.apple.com/kb/ht4232">http://support.apple.com/kb/ht4232</a>. Note that Apple&#39;s knowledge base article omits to mention that passwords can&#39;t be longer than 32 characters. This preset is also configured to use only characters that are easy to type on the standard iOS keyboard, i.e. those appearing on the letters keyboard (<code>ABC</code>) or the numbers keyboard <code>.?123</code>, and not those on the harder to reach symbols keyboard <code>#+=</code>. Below is a sample password generated with this preset:</p>

<pre><code>    @60:london:TAUGHT:forget:70@</code></pre>

</li>
<li><p><code>DEFAULT</code> - the default configuration. Below is a sample password generated with this preset:</p>

<pre><code>    ~~12:settle:SUCCEED:summer:48~~</code></pre>

</li>
<li><p><code>NTLM</code> - a preset for 14 character NTMLv1 (NTLM Version 1) passwords. ONLY USE THIS PRESET IF YOU MUST! The 14 character limit does not allow for sufficient entropy in the case where the attacker knows the dictionary and config used to generate the password, hence this preset will generate low entropy warnings. Below is a sample password generated with this preset:</p>

<pre><code>    0=mAYAN=sCART@</code></pre>

</li>
<li><p><code>SECURITYQ</code> - a preset for creating fake answers to security questions. It generates long nonsense sentences ending in <code>.</code> <code>!</code> or <code>?</code>, for example:</p>

<pre><code>    Wales outside full month minutes gentle?</code></pre>

</li>
<li><p><code>WEB16</code> - a preset for websites that don&#39;t allow more than 16 character long passwords. Because 16 characters is not very long, a large set of symbols are chosen from for the padding and separator. Below is a sample password generated with this preset:</p>

<pre><code>    :baby.ohio.DEAR:
    </code></pre>

</li>
<li><p><code>WEB32</code> - a preset for websites that don&#39;t allow more than 32 character long passwords. Below is a sample password generated with this preset:</p>

<pre><code>    +93-took-CASE-money-AHEAD-31+</code></pre>

</li>
<li><p><code>WIFI</code> - a preset for generating 63 character long WPA2 keys (most routers allow 64 characters, but some only 63, hence the odd length). Below is a sample password generated with this preset:</p>

<pre><code>    2736_ITSELF_PARTIAL_QUICKLY_SCOTLAND_wild_people_7441!!!!!!!!!!</code></pre>

</li>
<li><p><code>XKCD</code> - a preset inspired by the original XKCD comic (<a href="http://xkcd.com/936/">http://xkcd.com/936/</a>), but with some alterations to provide sufficient entropy to avoid low entropy warnings. Below is a sample password generated with this preset:</p>

<pre><code>    KING-madrid-exercise-BELGIUM</code></pre>

</li>
</ul>

<h2 id="ENTROPY-CHECKING">ENTROPY CHECKING</h2>

<p>For security reasons, this module&#39;s default behaviour is to warn (using <code>carp()</code>) when ever the loaded combination dictionary file and configuration would result in low-entropy passwords. When the constructor is invoked, or when a new dictionary file or new config hashref are loaded into an object (using <code>dictionary()</code> or <code>config()</code>) the entropy of the resulting new state of the object is calculated and checked against the defined minima.</p>

<p>Entropy is calculated and checked for two scenarios. Firstly, for the best-case scenario, when an attacker has no prior knowledge about the password, and must resort to brute-force attacks. And secondly, for the worst-case scenario, when the attacker is assumed to know that this module was used to generate the password, and, that the attacker has a copy of the dictionary file and config settings used to generate the password.</p>

<p>Entropy checking is controlled via three package variables:</p>

<ul>

<li><p><code>$Crypt::HSXKPasswd::ENTROPY_MIN_BLIND</code> - the minimum acceptable entropy (in bits) for a brute-force attack. The default value for this variable is 78 (equivalent to a 12 character password consisting of mixed-case letters, digits, and symbols).</p>

</li>
<li><p><code>$Crypt::HSXKPasswd::ENTROPY_MIN_SEEN</code> - the minimum acceptable entropy (in bits) for a worst-case attack (where the dictionary and configuration are known). The default value for this variable is 52 (equivalent to an 8 character password consisting of mixed-case letters, digits, and symbols).</p>

</li>
<li><p><code>$Crypt::HSXKPasswd::SUPRESS_ENTROPY_WARNINGS</code> - this variable can be used to suppress one or both of the entropy warnings. The following values are valid (invalid values are treated as being <code>NONE</code>):</p>

<dl>

<dt id="pod10">-</dt>
<dd>

<p><code>NONE</code> - no warnings are suppressed. This is the default value.</p>

</dd>
<dt id="pod11">-</dt>
<dd>

<p><code>SEEN</code> - only warnings for the worst-case scenario are suppressed.</p>

</dd>
<dt id="pod12">-</dt>
<dd>

<p><code>BLIND</code> - only warnings for the best-case scenario are suppressed.</p>

</dd>
<dt id="pod13">-</dt>
<dd>

<p><code>ALL</code> - all entropy warnings are suppressed.</p>

</dd>
</dl>

</li>
</ul>

<h3 id="CAVEATS">CAVEATS</h3>

<p>The entropy calculations make some assumptions which may in some cases lead to the results being inaccurate. In general, an attempt has been made to always round down, meaning that in reality the entropy of the produced passwords may be higher than the values calculated by the package.</p>

<p>When calculating the entropy for brute force attacks on configurations that can result in variable length passwords, the shortest possible password is assumed.</p>

<p>When calculating the entropy for brute force attacks on configurations that contain at least one symbol, it is assumed that an attacker would have to brute-force-check 33 symbols. This is the same value used by Steve Gibson&#39;s <i>Password Haystacks</i> calculator (<a href="https://www.grc.com/haystack.htm">https://www.grc.com/haystack.htm</a>).</p>

<p>When calculating the entropy for worst-case attacks on configurations that contain symbol substitutions where the replacement is more than 1 character long the possible extra length is ignored.</p>

<h2 id="RANDOM-NUMBER-SOURCES">RANDOM NUMBER SOURCES</h2>

<p>In order to minimise the number of non-standard modules this module requires, the default source of randomness is Perl&#39;s built-in <code>rand()</code> function. This provides a reasonable level of randomness, and should suffice for most users, however, some users will prefer to make use of one of the many advanced randomisation modules in CPAN, or, reach out to a web service like <a href="http://random.org">http://random.org</a> for their random numbers. To facilitate both of these options, this module uses a cache of randomness, and provides an abstract Random Number Generator (RNG) class that can be extended.</p>

<p>The module can use an instance of any class that extends <code>Crypt::HSXKPasswd::RNG</code> as it&#39;s source of randomness. Custom RNG classes must implement the method <code>random_numbers()</code> which will be invoked on an instance of the class and passed one argument, the number of random numbers required to generate a single password. The function must return an array of random numbers between 0 and 1. The number of random numbers returned is entirely up to the module to decide. The number required for a single password is passed purely as a guide. The function must always return at least one random number.</p>

<p>The module ships with five standard RNGs (described below).</p>

<p>By default, the module will try to use one of the following four RNGs, listed from most to least preferred, depending on what is available on the system:</p>

<ol>

<li><p><code>Crypt::HSXKPasswd::RNG::Math_Random_Secure</code> (only available if <code>Math::Random::Secure</code> is installed on the system).</p>

</li>
<li><p><code>Crypt::HSXKPasswd::RNG::Data_Entropy</code> (only available if <code>Data::Entropy::Algorithms</code> is installed on the system).</p>

</li>
<li><p><code>Crypt::HSXKPasswd::RNG::DevUrandom</code> (only available on Linux/Unix systems with a <code>/dev/urandom</code>).</p>

</li>
<li><p><code>Crypt::HSXKPasswd::RNG::Basic</code> (available on all systems because it uses Perl&#39;s built-in <code>rand()</code> function).</p>

</li>
</ol>

<p>If the constructor is called without specifying an RNG, and if the only available RNG is <code>Crypt::HSXKPasswd::RNG::Basic</code>, a warning will be thrown suggesting installing <code>Math::Random::Secure</code> or <code>Data::Entropy::Algorithms</code>.</p>

<p>The module also ships with a fifth RNG, <code>Crypt::HSXKPasswd::RNG::RandomDotOrg</code>, but this one must be explicitly used, the constructor will never used it by default. As its name suggests, this class uses <a href="http://Random.Org/">http://Random.Org/</a>&#39;s HTTP API to generate random numbers.</p>

<p>To explicitly use any particular RNG, create an instance of it, and either pass that instance to the constructor with the named argument <code>rng</code>, or, set the RNG after instantiating the object using the <code>rng()</code> function.</p>

<h3 id="Crypt::HSXKPasswd::RNG::Math_Random_Secure">Crypt::HSXKPasswd::RNG::Math_Random_Secure</h3>

<pre><code>    my $rng = Crypt::HSXKPasswd::RNG::Math_Random_Secure-&gt;new();</code></pre>

<p>This is the preferred RNG because it is both fast and secure, but, it requires the non-standard module <code>Math::Random::Secure</code> (<a href="http://search.cpan.org/perldoc?Math%3A%3ARandom%3A%3ASecure">http://search.cpan.org/perldoc?Math%3A%3ARandom%3A%3ASecure</a>) be installed.</p>

<h3 id="Crypt::HSXKPasswd::RNG::Data_Entropy">Crypt::HSXKPasswd::RNG::Data_Entropy</h3>

<pre><code>    my $rng = Crypt::HSXKPasswd::RNG::Data_Entropy-&gt;new();</code></pre>

<p>This RNG is secure, but it is quite slow (about six times slower than <code>Crypt::HSXKPasswd::RNG::Math_Random_Secure</code>), and it requires the non-standard module <code>Data::Entropy::Algorithms</code> (<a href="http://search.cpan.org/perldoc?Data%3A%3AEntropy%3A%3AAlgorithms">http://search.cpan.org/perldoc?Data%3A%3AEntropy%3A%3AAlgorithms</a>) be installed.</p>

<h3 id="Crypt::HSXKPasswd::RNG::DevUrandom">Crypt::HSXKPasswd::RNG::DevUrandom</h3>

<pre><code>    my $rng = Crypt::HSXKPasswd::RNG::DevUrandom-&gt;new();
    </code></pre>

<p>This RNG is secure and relatively fast (faster than <code>Crypt::HSXKPasswd::RNG::Data_Entropy</code> but slower than <code>Crypt::HSXKPasswd::RNG::Math_Random_Secure</code>), but is only available on Linux/Unix systems with a <code>/dev/urandom</code> special file.</p>

<h3 id="Crypt::HSXKPasswd::RNG::Basic">Crypt::HSXKPasswd::RNG::Basic</h3>

<pre><code>    my $rng = Crypt::HSXKPasswd::RNG::Basic-&gt;new();
    </code></pre>

<p>This RNG uses Perl&#39;s built-in <code>rand()</code> function as its source of randomness, and this is sub-optimal. The Perl docs warn that <code>rand()</code> is not a particularly good source of random numbers, and advises against its use for cryptography.</p>

<p>This RNG provides a base-line, and should only be used if none of the better RNGs are available. While it is sub-optimal, it will still generate passwords with sufficient entropy in most situations. Ultimately, even using this imperfect RNG, this module will still produce passwords that are much better than those produced by the human imagination!</p>

<h3 id="Crypt::HSXKPasswd::RNG::RandomDotOrg">Crypt::HSXKPasswd::RNG::RandomDotOrg</h3>

<pre><code>    my $rng = Crypt::HSXKPasswd::RNG::RandomDotOrg-&gt;new(&#39;my.address@my.dom&#39;);
    my $rng = Crypt::HSXKPasswd::RNG::RandomDotOrg-&gt;new(&#39;my.address@my.dom&#39;,
        timeout =&gt; 180,
        num_passwords =&gt; 3,
    );</code></pre>

<p>This RNG serves as a usable example of an RNG that queries a web service. As its name suggests, this class uses <a href="http://Random.Org/">http://Random.Org/</a>&#39;s HTTP API to generate random numbers.</p>

<p>In order to comply with Random.Org&#39;s client guidelines (<a href="https://www.random.org/clients/">https://www.random.org/clients/</a>), this module requires that a valid email address be passed as the first argument.</p>

<p>The client guidelines also request that clients use long timeouts, and batch their requests. They prefer to be asked for more number less frequently than less numbers more frequently. For this reason the class&#39;s default behaviour is to use a timeout of 180 seconds, and to request enough random numbers to generate three passwords at a time.</p>

<p>These defaults can be overridden by passing named arguments to the constructor after the email address. The following named arguments are supported:</p>

<ul>

<li><p><code>timeout</code> - the timeout to use when making HTTP requests to Random.Org in seconds (the default is 180).</p>

</li>
<li><p><code>num_passwords</code> - the number of password generations to fetch random numbers for per request from Random.org. This value is in effect a multiplier for the value passed to the <code>random_numbers()</code> function by <code>Crypt::HSXKPasswd</code>.</p>

<p><code>num_absolute</code> - the absolute number of random numbers to fetch per request to Random.Org. This argument takes precedence over <code>num_passwords</code>.</p>

</li>
</ul>

<p><code>num_passwords</code> and <code>num_absolute</code> should not be used together, but if they are, <code>num_absolute</code> use used, and <code>num_passwords</code> is ignored.</p>

<p>This class requires a number of modules not used by any other classes under <code>Crypt::HSXKPasswd</code>, and not listed in that module&#39;s requirements. If all of the following modules are not installed, the constructor will croak:</p>

<ul>

<li><p><code>Email::Valid</code></p>

</li>
<li><p><code>LWP::UserAgent</code></p>

</li>
<li><p><code>Mozilla::CA</code></p>

</li>
<li><p><code>URI</code></p>

</li>
</ul>

<h2 id="FUNCTIONAL-INTERFACE">FUNCTIONAL INTERFACE</h2>

<p>Although the package was primarily designed to be used in an object-oriented way, there is a functional interface too. The functional interface initialises an object internally and then uses that object to generate a single password. If you only need one password, this is no less efficient than the object-oriented interface, however, if you are generating multiple passwords it is much less efficient.</p>

<p>There is only a single function exported by the module:</p>

<h3 id="hsxkpasswd">hsxkpasswd()</h3>

<pre><code>    my $password = hsxkpasswd();
    </code></pre>

<p>This function call is equivalent to the following Object-Oriented code:</p>

<pre><code>    my $password =  HSXKPasswd-&gt;new()-&gt;password();
    </code></pre>

<p>This function passes all arguments it receives through to the constructor, so all arguments that are valid in <code>new()</code> are valid here.</p>

<p>This function Croaks if there is a problem generating the password.</p>

<p>Note that it is inefficient to use this function to generate multiple passwords because the dictionary will be re-loaded, and the entropy stats re-calculated each time the function is called.</p>

<h2 id="CONSTRUCTOR">CONSTRUCTOR</h2>

<pre><code>    # create a new instance with the default dictionary, config, and random
    # number generator
    my $hsxkpasswd_instance = Crypt::HSXKPasswd-&gt;new();
    
    # the constructor takes optional named arguments, these can be used to
    # customise the word source, config, and random number source.
    
    # create an instance that uses the UNIX words file as the word source
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(
        dictionary =&gt; Crypt::HSXKPasswd::Dictionary::System-&gt;new()
    );
    
    # create an instance that uses an array reference as the word source
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(dictionary_list =&gt; $array_ref);
    
    # create an instance that uses a dictionary file as the word source
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(
        dictionary_file =&gt; &#39;sample_dict_EN.txt&#39;
    );
    
    # the class Crypt::HSXKPasswd::Dictionary::Basic can be used to aggregate
    # multiple array refs and/or dictionary files into a single word source
    my $dictionary = Crypt::HSXKPasswd::Dictionary::Basic-&gt;new();
    $dictionary-&gt;add_words(&#39;dict1.txt&#39;);
    $dictionary-&gt;add_words(&#39;dict2.txt&#39;);
    $dictionary-&gt;add_words($array_ref);
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(dictionary =&gt; $dictionary);
    
    # create an instance from the preset &#39;XKCD&#39;
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(preset =&gt; &#39;XKCD&#39;);
    
    # create an instance based on the preset &#39;XKCD&#39; with one customisation
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(
        preset =&gt; &#39;XKCD&#39;,
        preset_override =&gt; {separator_character =&gt; q{ }}
    );
    
    # create an instance from a config based on a preset
    # but with many alterations
    my $config = HSXKPasswd-&gt;preset_config(&#39;XKCD&#39;);
    $config-&gt;{separator_character} = q{ };
    $config-&gt;{case_transform} = &#39;INVERT&#39;;
    $config-&gt;{padding_type} = &quot;FIXED&quot;;
    $config-&gt;{padding_characters_before} = 1;
    $config-&gt;{padding_characters_after} = 1;
    $config-&gt;{padding_character} = &#39;*&#39;;
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(config =&gt; $config);
    
    # create an instance from an entirely custom configuration
    my $config = {
        padding_alphabet =&gt; [qw{! @ $ % ^ &amp; * + = : ~ ?}],
        separator_alphabet =&gt; [qw{- + = . _ | ~}],
        word_length_min =&gt; 6,
        word_length_max =&gt; 6,
        num_words =&gt; 3,
        separator_character =&gt; &#39;RANDOM&#39;,
        padding_digits_before =&gt; 2,
        padding_digits_after =&gt; 2,
        padding_type =&gt; &#39;FIXED&#39;,
        padding_character =&gt; &#39;RANDOM&#39;,
        padding_characters_before =&gt; 2,
        padding_characters_after =&gt; 2,
        case_transform =&gt; &#39;CAPITALISE&#39;,
    }
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(config =&gt; $config);
    
    # create an instance from an entire custom config passed as a JSON string
    # a convenient way to use configs generated using the web interface at
    # https://xkpasswd.net
    my $config = &lt;&lt;&#39;END_CONF&#39;;
    {
     &quot;num_words&quot;: 4,
     &quot;word_length_min&quot;: 4,
     &quot;word_length_max&quot;: 8,
     &quot;case_transform&quot;: &quot;RANDOM&quot;,
     &quot;separator_character&quot;: &quot; &quot;,
     &quot;padding_digits_before&quot;: 0,
     &quot;padding_digits_after&quot;: 0,
     &quot;padding_type&quot;: &quot;NONE&quot;,
    }
    END_CONF
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(config_json =&gt; $config);
    
    # create an instance which uses /dev/urandom as the RNG
    # (only possible on Linux/Unix only systems)
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(
        rng =&gt; Crypt::HSXKPasswd::RNG::DevUrandom-&gt;new();
    );
    
    # create an instance which uses Random.Org as the random number generator
    # NOTE - this should be used sparingly, and only by the paranoid. If you
    # abuse this RNG your IP will get blacklisted on Random.Org. You must pass
    # a valid email address to the constructor for
    # Crypt::HSXKPasswd::RNG::RandomDorOrg because Random.Org&#39;s usage
    # guidelines request that all invocations to their API contain a contact
    # email in the useragent header, and this module honours that request.
    my $hsxkpasswd_instance = HSXKPasswd-&gt;new(
        rng =&gt; Crypt::HSXKPasswd::RNG::RandomDorOrg-&gt;new(&#39;your.email@addre.ss&#39;);
    );</code></pre>

<p>The constructor must be called via the package name.</p>

<p>If called with no arguments the constructor will use an instance of <code>Crypt::HSXKPasswd::Dictionary::EN_Default</code> as the word source, the preset <code>DEFAULT</code>, and an instance of the class <code>Crypt::HSXKPasswd::RNG::Basic</code> to generate random numbers.</p>

<p>The function accepts named arguments to allow for custom specification of the word source, config, and random number source.</p>

<h3 id="CUSTOM-WORD-SOURCES-IN-CONSTRUCTOR">CUSTOM WORD SOURCES IN CONSTRUCTOR</h3>

<p>Three named arguments can be used to specify a word source, but only one should be specified at a time. If multiple are specified, the one with the highest priority will be used, and the rest ignored. The variables are listd below in descending order of priority:</p>

<ul>

<li><p><code>dictionary</code> - an instance of a class that extends <code>Crypt::HSXKPasswd::Dictionary</code>.</p>

</li>
<li><p><code>dictionary_list</code> - a reference to an array containing words as scalars.</p>

</li>
<li><p><code>dictionary_file</code> - the path to a dictionary file. Dictionary files should contain one word per. Lines starting with a # symbol will be ignored. It is assumed files will be UTF-8 encoded. If not, a second named argument, <code>dictionary_file_encoding</code>, can be used to specify another encoding.</p>

</li>
</ul>

<h3 id="CUSTOM-CONFIGS">CUSTOM CONFIGS</h3>

<p>Two primary named arguments can be used to specify the config the instance should use to generate passwords. Only one should be specified at a time. If multiple are specified, the one with the highest priority will be used, and the rest ignored. The variables are listd below in descending order of priority:</p>

<ul>

<li><p><code>config</code> - a valid config hashref.</p>

</li>
<li><p><code>config_json</code> - a JSON string representing a valid config hashref. If you use this named argument on a system where the standard Perl JSON library <a href="http://search.cpan.org/perldoc?JSON">http://search.cpan.org/perldoc?JSON</a> is not installed, the constructor will croak.</p>

<p>This named argument provides a convenient way to use configs generated using the web interface at <a href="https://xkpasswd.net/">https://xkpasswd.net/</a>. The Save/Load tab in that interface saves and loads configs in JSON format.</p>

</li>
<li><p><code>preset</code> - a valid preset name. If this variable is used, then any desired config overrides can be passed as a hashref using the variable <code>preset_overrides</code>.</p>

</li>
</ul>

<h3 id="CUSTOM-RANDOM-NUMBER-GENERATORS">CUSTOM RANDOM NUMBER GENERATORS</h3>

<p>A custom RNG can be specified using the named argument <code>rng</code>. The passed value must be an instance of a class that extends <code>Crypt::HSXKPasswd::RNG</code> and overrides the function <code>random_numbers()</code>.</p>

<h2 id="CLASS-METHODS">CLASS METHODS</h2>

<p><b>NOTE</b> - All class methods must be invoked via the package name, or they will croak.</p>

<h3 id="clone_config">clone_config()</h3>

<pre><code>    my $clone = Crypt::HSXKPasswd-&gt;clone_config($config);
    </code></pre>

<p>This function must be passed a valid config hashref as the first argument or it will croak. The function returns a hashref.</p>

<h3 id="config_stats">config_stats()</h3>

<pre><code>    my %stats = Crypt::HSXKPasswd-&gt;config_stats($config);
    </code></pre>

<p>This function requires one argument, a valid config hashref. It returns a hash of statistics about a given configuration. The hash is indexed by the following:</p>

<ul>

<li><p><code>length_min</code> - the minimum length a password generated with the given config could be.</p>

</li>
<li><p><code>length_max</code> - the maximum length a password generated with the given config could be. (see caveat below)</p>

</li>
<li><p><code>random_numbers_required</code> - the amount of random numbers needed to generate a password using the given config.</p>

</li>
</ul>

<p>There is one scenario in which the calculated maximum length will not be reliably accurate, and that&#39;s when a character substitution with a length greater than 1 is specified, and <code>padding_type</code> is not set to <code>ADAPTIVE</code>. If the config passed contains such a character substitution, the length will be calculated ignoring the possibility that one or more extra characters could be introduced depending on how many, if any, of the long substitutions get triggered by the randomly chosen words. If this happens the function will also carp with a warning.</p>

<h3 id="config_to_json">config_to_json()</h3>

<pre><code>    my $config_json_string = Crypt::HSXKPasswd-&gt;config_to_json($config);
    </code></pre>

<p>This function returns a JSON representation of the passed config hashref as a scalar string.</p>

<p>The function must be passed a valid config hashref or it will croak. This function will also croak if called without the standard JSON Perl module (<a href="http://search.cpan.org/perldoc?JSON">http://search.cpan.org/perldoc?JSON</a>) installed.</p>

<h3 id="config_to_string">config_to_string()</h3>

<pre><code>    my $config_string = Crypt::HSXKPasswd-&gt;config_to_string($config);
    </code></pre>

<p>This function returns the content of the passed config hashref as a scalar string. The function must be passed a valid config hashref or it will croak.</p>

<h3 id="default_config">default_config()</h3>

<pre><code>    my $config = Crypt::HSXKPasswd-&gt;default_config();</code></pre>

<p>This function returns a hashref containing a config with default values.</p>

<p>This function can optionally be called with a single argument, a hashref containing keys with values to override the defaults with.</p>

<pre><code>    my $config = Crypt::HSXKPasswd-&gt;default_config({num_words =&gt; 3});
    </code></pre>

<p>When overrides are present, the function will carp if an invalid key or value is passed, and croak if the resulting merged config is invalid.</p>

<p>This function is a shortcut for <code>preset_config()</code>, and the two examples above are equivalent to the following:</p>

<pre><code>    my $config = Crypt::HSXKPasswd-&gt;preset_config(&#39;DEFAULT&#39;);
    my $config = Crypt::HSXKPasswd-&gt;preset_config(&#39;DEFAULT&#39;, {num_words =&gt; 3});</code></pre>

<h3 id="defined_presets">defined_presets()</h3>

<pre><code>    my @preset_names = Crypt::HSXKPasswd-&gt;defined_presets();
    </code></pre>

<p>This function returns the list of defined preset names as an array of scalars.</p>

<h3 id="is_valid_config">is_valid_config()</h3>

<pre><code>    my $is_ok = Crypt::HSXKPasswd-&gt;is_valid_config($config);
    </code></pre>

<p>This function must be passed a hashref to test as the first argument or it will croak. The function returns 1 if the passed config is valid, and 0 otherwise.</p>

<p>Optionally, any truthy value can be passed as a second argument to indicate that the function should croak on invalid configs rather than returning 0;</p>

<pre><code>    use English qw( -no_match_vars );
    eval{
        Crypt::HSXKPasswd-&gt;is_valid_config($config, &#39;do_croak&#39;);
    }or do{
        print &quot;ERROR - config is invalid because: $EVAL_ERROR\n&quot;;
    }</code></pre>

<h3 id="preset_config">preset_config()</h3>

<pre><code>    my $config = Crypt::HSXKPasswd-&gt;preset_config(&#39;XKCD&#39;);
    </code></pre>

<p>This function returns the config hashref for a given preset. See above for the list of available presets.</p>

<p>The first argument this function accepts is the name of the desired preset as a scalar. If an invalid name is passed, the function will carp. If no preset is passed the preset <code>DEFAULT</code> is assumed.</p>

<p>This function can optionally accept a second argument, a hashref containing keys with values to override the defaults with.</p>

<pre><code>    my $config = Crypt::HSXKPasswd-&gt;preset_config(&#39;XKCD&#39;, {case_transform =&gt; &#39;INVERT&#39;});
    </code></pre>

<p>When overrides are present, the function will carp if an invalid key or value is passed, and croak if the resulting merged config is invalid.</p>

<h3 id="presets_json">presets_json()</h3>

<pre><code>    my $json_string = Crypt::HSXKPasswd-&gt;presets_json();
    </code></pre>

<p>This function returns a JSON string representing all the defined configs, including their descriptions.</p>

<p>The returned JSON string represents a hashref indexed by three keys: <code>defined_keys</code> contains an array of preset identifiers, <code>presets</code> contains the preset configs indexed by reset identifier, and <code>preset_descriptions</code> contains a hashref of descriptions indexed by preset identifiers.</p>

<p>This function requires that the standard Perl JSON module be installed, if not, it will croak.</p>

<h3 id="preset_description">preset_description()</h3>

<pre><code>    my $description = Crypt::HSXKPasswd-&gt;preset_description(&#39;XKCD&#39;);
    </code></pre>

<p>This function returns the description for a given preset. See above for the list of available presets.</p>

<p>The first argument this function accepts is the name of the desired preset as a scalar. If an invalid name is passed, the function will carp. If no preset is passed the preset <code>DEFAULT</code> is assumed.</p>

<h3 id="presets_to_string">presets_to_string()</h3>

<pre><code>    print Crypt::HSXKPasswd-&gt;presets_to_string();
    </code></pre>

<p>This function returns a string containing a description of each defined preset and the configs associated with the presets.</p>

<h2 id="METHODS">METHODS</h2>

<p><b>NOTE</b> - all methods must be invoked on an XKPasswd object or they will croak.</p>

<h3 id="config">config()</h3>

<pre><code>    my $config = $hsxkpasswd_instance-&gt;config(); # getter
    $hsxkpasswd_instance-&gt;config($config_hashref); # setter
    $hsxkpasswd_instance-&gt;config($config_json_string); # setter</code></pre>

<p>When called with no arguments the function returns a clone of the instance&#39;s config hashref.</p>

<p>When called with a single argument the function sets the config of the instance to a clone of the passed config. If present, the argument must be either a hashref containing valid config keys and values, or a JSON string representing a hashref containing valid config keys and values.</p>

<p>The function will croak if an invalid config is passed, or, if a string is passed while the standard JSON Perl module (<a href="http://search.cpan.org/perldoc?JSON">http://search.cpan.org/perldoc?JSON</a>) is not installed.</p>

<h3 id="config_json">config_json()</h3>

<pre><code>    my $config_json_string = $hsxkpasswd_instance-&gt;config_json();
    </code></pre>

<p>This function returns the content of the instance&#39;s loaded config hashref as a JSON string.</p>

<p>The output from this function can be loaded into the web interface at <a href="https://xkpasswd.net">https://xkpasswd.net</a> (using the load/save tab).</p>

<p>The function will croak if the standard JSON Perl module (<a href="http://search.cpan.org/perldoc?JSON">http://search.cpan.org/perldoc?JSON</a>) is not installed.</p>

<h3 id="config_string">config_string()</h3>

<pre><code>    my $config_string = $hsxkpasswd_instance-&gt;config_string();
    </code></pre>

<p>This function returns the content of the instance&#39;s loaded config hashref as a scalar string.</p>

<h3 id="dictionary">dictionary()</h3>

<pre><code>    my $dictionary_clone = $hsxkpasswd_instance-&gt;dictionary();
    $hsxkpasswd_instance-&gt;dictionary($dictionary_instance);
    $hsxkpasswd_instance-&gt;dictionary($array_ref);
    $hsxkpasswd_instance-&gt;dictionary(&#39;sample_dict_EN.txt&#39;);
    $hsxkpasswd_instance-&gt;dictionary(&#39;sample_dict_EN.txt&#39;, &#39;Latin1&#39;);
    </code></pre>

<p>When called with no arguments this function returns a clone of the currently loaded dictionary which will be an instance of a class that extends <code>Crypt::HSXKPasswd::Dictionary</code>.</p>

<p>To load a new dictionary into an instance, call this function with arguments. The first argument argument can be an instance of a class that extends <code>Crypt::HSXKPasswd::Dictionary</code>, a reference to an array of words, or the path to a dictionary file. If either an array reference or a file path are passed, they will be used to instantiate an instance of the class <code>Crypt::HSXKPasswd::Dictionary::Basic</code>, and that new instance will then be loaded into the object. If a file path is passed, it will be assumed to be UTF-8 encoded. If not, an optional second argument can be passed to specify the file&#39;s encoding.</p>

<h3 id="password">password()</h3>

<pre><code>    my $password = $hsxkpasswd_instance-&gt;password();
    </code></pre>

<p>This function generates a random password based on the instance&#39;s loaded config and returns it as a scalar. The function takes no arguments.</p>

<p>The function croaks if there is an error generating the password. The most likely cause of and error is the random number generation, particularly if the loaded random generation function relies on a cloud service or a non-standard library.</p>

<h3 id="passwords">passwords()</h3>

<pre><code>    my @passwords = $hsxkpasswd_instance-&gt;passwords(10);
    </code></pre>

<p>This function generates a number of passwords and returns them all as an array.</p>

<p>The function uses <code>password()</code> to generate the passwords, and hence will croak if there is an error generating any of the requested passwords.</p>

<h3 id="passwords_json">passwords_json()</h3>

<pre><code>    my $json_string = $hsxkpasswd_instance-&gt;passwords_json(10);
    </code></pre>

<p>This function generates a number of passwords and returns them and the instance&#39;s entropy stats as a JSON string representing a hashref containing an array of passwords indexed by <code>passwords</code>, and a hashref of entropy stats indexed by <code>stats</code>. The stats hashref itself is indexed by: <code>password_entropy_blind</code>, <code>password_permutations_blind</code>, <code>password_entropy_blind_min</code>, <code>password_entropy_blind_max</code>, <code>password_permutations_blind_max</code>, <code>password_entropy_seen</code> &amp; <code>password_permutations_seen</code>.</p>

<p>The function uses <code>passwords()</code> to generate the passwords, and hence will croak if there is an error generating any of the requested passwords. This function requires that the standard Perl JSON package be installed, if not, it will croak.</p>

<h3 id="rng">rng()</h3>

<pre><code>    my $rng_instance = $hsxkpasswd_instance-&gt;rng();
    $hsxkpasswd_instance-&gt;rng($rng_instance);
    </code></pre>

<p>When called with no arguments this function returns currently loaded Random Number Genereatator (RNG) which will be an instance of a class that extends <code>Crypt::HSXKPasswd::RNG</code>.</p>

<p>To load a new RNG into an instance, call this function with a single argument, an instance of a class that extends <code>Crypt::HSXKPasswd::RNG</code>.</p>

<h3 id="stats">stats()</h3>

<pre><code>    my %stats = $hsxkpasswd_instance-&gt;stats();
    </code></pre>

<p>This function generates a hash containing stats about the instance indexed by the following keys:</p>

<ul>

<li><p><code>dictionary_contains_accents</code> - 1 if the filtered word list contains accented letters, 0 otherwise.</p>

</li>
<li><p><code>dictionary_filter_length_min</code> &amp; <code>dictionary_filter_length_max</code> - the minimum and maximum word lengths allowed by the dictionary filter (defined by config keys <code>word_length_min</code> and <code>word_length_max</code>)</p>

</li>
<li><p><code>dictionary_source</code> - the source of the word list loaded into the instance.</p>

</li>
<li><p><code>dictionary_words_filtered</code> - the number of words loaded from the dictionary file that meet the criteria defined by the loaded config.</p>

</li>
<li><p><code>dictionary_words_percent_available</code> - the percentage of the words in the dictionary file that are available for use with the loaded config.</p>

</li>
<li><p><code>dictionary_words_total</code> - the total number of words loaded from the dictionary file.</p>

</li>
<li><p><code>password_entropy_blind_min</code> - the entropy (in bits) of the shortest password the loaded config can generate from the point of view of a brute-force attacker.</p>

</li>
<li><p><code>password_entropy_blind_max</code> - the entropy (in bits) of the longest password the loaded config can generate from the point of view of a brute-force attacker.</p>

</li>
<li><p><code>password_entropy_blind</code> - the entropy (in bits) of the average length of passwords the loaded config can generate from the point of view of a brute-force attacker.</p>

</li>
<li><p><code>password_entropy_seen</code> - the entropy (in bits) of passwords generated by the instance assuming the dictionary and config are known to the attacker.</p>

</li>
<li><p><code>password_length_min</code> - the minimum length of passwords generated by the loaded config.</p>

</li>
<li><p><code>password_length_max</code> - the maximum length of passwords generated by the loaded config.</p>

</li>
<li><p><code>password_permutations_blind_min</code> - the number of permutations a brute-force attacker would have to try to be sure of cracking the shortest possible passwords generated by this instance. Because this number can be very big, it&#39;s returned as a <code>Math::BigInt</code> object.</p>

</li>
<li><p><code>password_permutations_blind_max</code> - the number of permutations a brute-force attacker would have to try to be sure of cracking the longest possible passwords generated by this instance. Because this number can be very big, it&#39;s returned as a <code>Math::BigInt</code> object.</p>

</li>
<li><p><code>password_permutations_blind</code> - the number of permutations a brute-force attacker would have to try to be sure of cracking an average length password generated by this instance. Because this number can be very big, it&#39;s returned as a <code>Math::BigInt</code> object.</p>

</li>
<li><p><code>password_permutations_seen</code> - the number of permutations an attacker with a copy of the dictionary and config would need to try to be sure of cracking a password generated by this instance. Because this number can be very big, it&#39;s returned as a <code>Math::BigInt</code> object.</p>

</li>
<li><p><code>passwords_generated</code> - the number of passwords this instance has generated.</p>

</li>
<li><p><code>password_random_numbers_required</code> - the number of random numbers needed to generate a single password using the loaded config.</p>

</li>
<li><p><code>randomnumbers_cached</code> - the number of random numbers currently cached within the instance.</p>

</li>
<li><p><code>randomnumbers_cache_increment</code> - the number of random numbers generated at once to replenish the cache when it&#39;s empty.</p>

</li>
<li><p><code>randomnumbers_source</code> - the class used by the instance to generate random numbers.</p>

</li>
</ul>

<h3 id="status">status()</h3>

<pre><code>    print $hsxkpasswd_instance-&gt;status();
    </code></pre>

<p>Generates a string detailing the internal status of the instance. Below is a sample status string:</p>

<pre><code>    *DICTIONARY*
    Source: Crypt::HSXKPasswd::Dictionary::EN_Default
    # words: 1425
    # words of valid length: 1194 (84%)
    
    *CONFIG*
    case_transform: &#39;ALTERNATE&#39;
    num_words: &#39;3&#39;
    padding_character: &#39;RANDOM&#39;
    padding_characters_after: &#39;2&#39;
    padding_characters_before: &#39;2&#39;
    padding_digits_after: &#39;2&#39;
    padding_digits_before: &#39;2&#39;
    padding_type: &#39;FIXED&#39;
    separator_alphabet: [&#39;!&#39;, &#39;$&#39;, &#39;%&#39;, &#39;&amp;&#39;, &#39;*&#39;, &#39;+&#39;, &#39;-&#39;, &#39;.&#39;, &#39;/&#39;, &#39;:&#39;, &#39;;&#39;, &#39;=&#39;, &#39;?&#39;, &#39;@&#39;, &#39;^&#39;, &#39;_&#39;, &#39;|&#39;, &#39;~&#39;]
    separator_character: &#39;RANDOM&#39;
    symbol_alphabet: [&#39;!&#39;, &#39;$&#39;, &#39;%&#39;, &#39;&amp;&#39;, &#39;*&#39;, &#39;+&#39;, &#39;-&#39;, &#39;.&#39;, &#39;/&#39;, &#39;:&#39;, &#39;;&#39;, &#39;=&#39;, &#39;?&#39;, &#39;@&#39;, &#39;^&#39;, &#39;_&#39;, &#39;|&#39;, &#39;~&#39;]
    word_length_max: &#39;8&#39;
    word_length_min: &#39;4&#39;
    
    *RANDOM NUMBER CACHE*
    Random Number Generator: Crypt::HSXKPasswd::RNG::Basic
    # in cache: 0
    
    *PASSWORD STATISTICS*
    Password length: between 24 &amp; 36
    Permutations (brute-force): between 2.91x10^47 &amp; 1.57x10^71 (average 2.14x10^59)
    Permutations (given dictionary &amp; config): 5.51x10^15
    Entropy (Brute-Force): between 157bits and 236bits (average 197bits)
    Entropy (given dictionary &amp; config): 52bits
    # Random Numbers needed per-password: 9
    Passwords Generated: 0</code></pre>

<h3 id="update_config">update_config()</h3>

<pre><code>    $hsxkpasswd_instance-&gt;update_config({separator_character =&gt; &#39;+&#39;});
    </code></pre>

<p>The function updates the config within an HSXKPasswd instance. A hashref with the config options to be changed must be passed. The function returns a reference to the instance to enable function chaining. The function will croak if the updated config would be invalid in some way. Note that if this happens the running config will not have been altered in any way.</p>

<h1 id="DIAGNOSTICS">DIAGNOSTICS</h1>

<p>By default this module does all of it&#39;s error notification via the functions <code>carp()</code>, <code>croak()</code>, and <code>confess()</code> from the <code>Carp</code> module. Optionally, all error messages can also be printed. To enable the printing of messages, set <code>$Crypt::HSXKPasswd::LOG_ERRORS</code> to a truthy value. All error messages will then be printed to the stream at <code>$Crypt::HSXKPasswd::LOG_STREAM</code>, which is set to <code>STDERR</code> by default.</p>

<p>Ordinarily this module produces very little output, to enable more verbose output <code>$Crypt::HSXKPasswd::DEBUG</code> can be set to a truthy value. If this is set, all debug messages will be printed to the stream <code>$Crypt::HSXKPasswd::LOG_STREAM</code>.</p>

<p>This module produces output at three severity levels:</p>

<ul>

<li><p><code>DEBUG</code> - this output is completely suppressed unless <code>$Crypt::HSXKPasswd::DEBUG</code> is set to a truthy value. If not suppressed debug messages are always printed to <code>$Crypt::HSXKPasswd::LOG_STREAM</code> (regardless of the value of <code>$Crypt::HSXKPasswd::LOG_ERRORS</code>).</p>

</li>
<li><p><code>WARNING</code> - warning messages are always thrown with <code>carp()</code>, and also printed to <code>$Crypt::HSXKPasswd::LOG_STREAM</code> if <code>$Crypt::HSXKPasswd::LOG_ERRORS</code> evaluates to true.</p>

</li>
<li><p><code>ERROR</code> - error messages are usually thrown with <code>croak()</code>, but will be thrown with <code>confess()</code> if <code>$Crypt::HSXKPasswd::DEBUG</code> evaluates to true. If <code>$Crypt::HSXKPasswd::LOG_ERRORS</code> evaluates to true errors are also printed to <code>$Crypt::HSXKPasswd::LOG_STREAM</code>, including a stack trace if <code>$Crypt::HSXKPasswd::DEBUG</code> evaluates to true and the module <code>Devel::StackTrace</code> is installed.</p>

</li>
</ul>

<h1 id="CONFIGURATION-AND-ENVIRONMENT">CONFIGURATION AND ENVIRONMENT</h1>

<p>This module does not currently support configuration files, nor does it currently interact with the environment. It may do so in future versions.</p>

<h1 id="DEPENDENCIES">DEPENDENCIES</h1>

<p>This module requires the following Perl modules:</p>

<ul>

<li><p><code>Carp</code> - <a href="http://search.cpan.org/perldoc?Carp">http://search.cpan.org/perldoc?Carp</a></p>

</li>
<li><p><code>DateTime</code> - <a href="http://search.cpan.org/perldoc?DateTime">http://search.cpan.org/perldoc?DateTime</a></p>

</li>
<li><p><code>English</code> - <a href="http://search.cpan.org/perldoc?English">http://search.cpan.org/perldoc?English</a></p>

</li>
<li><p><code>List::MoreUtils</code> - <a href="http://search.cpan.org/perldoc?List%3A%3AMoreUtils">http://search.cpan.org/perldoc?List%3A%3AMoreUtils</a></p>

</li>
<li><p><code>Math::BigInt</code> - <a href="http://search.cpan.org/perldoc?Math%3A%3ABigInt">http://search.cpan.org/perldoc?Math%3A%3ABigInt</a></p>

</li>
<li><p><code>Math::Round</code> - <a href="http://search.cpan.org/perldoc?Math%3A%3ARound">http://search.cpan.org/perldoc?Math%3A%3ARound</a></p>

</li>
<li><p><code>Params::Validate</code> - <a href="http://search.cpan.org/perldoc?Params%3A%3AValidate">http://search.cpan.org/perldoc?Params%3A%3AValidate</a></p>

</li>
<li><p><code>Scalar::Util</code> - <a href="http://search.cpan.org/perldoc?Scalar%3A%3AUtil">http://search.cpan.org/perldoc?Scalar%3A%3AUtil</a></p>

</li>
<li><p><code>strict</code> - <a href="http://search.cpan.org/perldoc?strict">http://search.cpan.org/perldoc?strict</a></p>

</li>
<li><p><code>Text::Unidecode</code> - <a href="http://search.cpan.org/perldoc?Text%3A%3AUnidecode">http://search.cpan.org/perldoc?Text%3A%3AUnidecode</a></p>

</li>
<li><p><code>warnings</code> - <a href="http://search.cpan.org/perldoc?warnings">http://search.cpan.org/perldoc?warnings</a></p>

</li>
</ul>

<p>The module can also optionally use the following Perl modules:</p>

<ul>

<li><p><code>Data::Entropy::Algorithms</code> - <a href="http://search.cpan.org/perldoc?Data%3A%3AEntropy%3A%3AAlgorithms">http://search.cpan.org/perldoc?Data%3A%3AEntropy%3A%3AAlgorithms</a></p>

<p>Used by the RNG class <code>Crypt::HSXKPasswd::RNG::Data_Entropy</code>.</p>

</li>
<li><p><code>Devel::StackTrace</code> - <a href="http://search.cpan.org/perldoc?Devel%3A%3AStackTrace">http://search.cpan.org/perldoc?Devel%3A%3AStackTrace</a></p>

<p>Used for printing stack traces with error messages if <code>$XKPasswd::DEBUG</code> and <code>$XKPasswd::LOG_ERRORS</code> both evaluate to true. If the module is not installed the stack traces will be omitted from the log messages.</p>

</li>
<li><p><code>Email::Valid</code> - <a href="http://search.cpan.org/perldoc?Email%3A%3AValid">http://search.cpan.org/perldoc?Email%3A%3AValid</a></p>

<p>Used by the Random.Org RNG class <code>Crypt::HSXKPasswd::RNG::RandomDotOrg</code>.</p>

</li>
<li><p><code>JSON</code> - <a href="http://search.cpan.org/perldoc?JSON">http://search.cpan.org/perldoc?JSON</a></p>

<p>Used for loading and exporting config hashrefs as JSON strings. Needed if the named parameter <code>config_json</code> is passed to the constructor or <code>hsxkpasswd()</code>, if a string is passed to <code>config()</code>, or if any function contianing the word <code>json</code> in the function name is called.</p>

</li>
<li><p><code>LWP::UserAgent</code> - <a href="http://search.cpan.org/perldoc?LWP%3A%3AUserAgent">http://search.cpan.org/perldoc?LWP%3A%3AUserAgent</a></p>

<p>Used by the Random.Org RNG class <code>Crypt::HSXKPasswd::RNG::RandomDotOrg</code>.</p>

</li>
<li><p><code>Math::Random::Secure</code> - <a href="http://search.cpan.org/perldoc?Math%3A%3ARandom%3A%3ASecure">http://search.cpan.org/perldoc?Math%3A%3ARandom%3A%3ASecure</a></p>

<p>Used by the RNG class <code>Crypt::HSXKPasswd::RNG::Math_Random_Secure</code>.</p>

</li>
<li><p><code>Mozilla::CA</code> - <a href="http://search.cpan.org/perldoc?Mozilla%3A%3ACA">http://search.cpan.org/perldoc?Mozilla%3A%3ACA</a></p>

<p>Indirectly required by the Random.Org RNG class <code>Crypt::HSXKPasswd::RNG::RandomDotOrg</code> because without it <code>LWP::UserAgent</code> can&#39;t use HTTPS, and the Random.Org API uses HTTPS.</p>

</li>
<li><p><code>URI</code> - <a href="http://search.cpan.org/perldoc?URI">http://search.cpan.org/perldoc?URI</a></p>

<p>Used by the Random.Org RNG class <code>Crypt::HSXKPasswd::RNG::RandomDotOrg</code>.</p>

</li>
</ul>

<h1 id="INCOMPATIBILITIES">INCOMPATIBILITIES</h1>

<p>This module has no known incompatibilities.</p>

<h1 id="BUGS-AND-LIMITATIONS">BUGS AND LIMITATIONS</h1>

<p>There are no known bugs in this module.</p>

<p>Please report any bugs you may find on the module&#39;s GitHub page: <a href="https://github.com/bbusschots/xkpasswd.pm">https://github.com/bbusschots/xkpasswd.pm</a>.</p>

<h1 id="LICENCE-AND-COPYRIGHT">LICENCE AND COPYRIGHT</h1>

<p>Copyright (c) 2014-15, Bart Busschots T/A Bartificer Web Solutions All rights reserved.</p>

<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>

<ol>

<li><p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p>

</li>
<li><p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p>

</li>
</ol>

<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

<p>The following components of this package are covered by the more restrictive GPL V2 license <a href="https://www.gnu.org/licenses/gpl-2.0.html">https://www.gnu.org/licenses/gpl-2.0.html</a>:</p>

<ul>

<li><p>The <code>share/sample_dict_DE.txt</code> text file.</p>

</li>
<li><p>The <code>Crypt::HSXKPasswd::Dictionary::DE</code> Perl module.</p>

</li>
<li><p>The <code>share/sample_dict_FR.txt</code> text file.</p>

</li>
<li><p>The <code>Crypt::HSXKPasswd::Dictionary::FR</code> Perl module.</p>

</li>
<li><p>The <code>share/sample_dict_IT.txt</code> text file.</p>

</li>
<li><p>The <code>Crypt::HSXKPasswd::Dictionary::IT</code> Perl module.</p>

</li>
<li><p>The <code>share/sample_dict_NL.txt</code> text file.</p>

</li>
<li><p>The <code>Crypt::HSXKPasswd::Dictionary::NL</code> Perl module.</p>

</li>
<li><p>The <code>share/sample_dict_PT.txt</code> text file.</p>

</li>
<li><p>The <code>Crypt::HSXKPasswd::Dictionary::PT</code> Perl module.</p>

</li>
</ul>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Bart Busschots (<a href="mailto:bart@bartificer.net">mailto:bart@bartificer.net</a>)</p>


</body>

</html>


